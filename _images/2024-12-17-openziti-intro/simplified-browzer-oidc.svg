<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="391px" preserveAspectRatio="none" style="width:1758px;height:391px;background:#FFFFFF;" version="1.1" viewBox="0 0 1758 391" width="1758px" zoomAndPan="magnify"><title>Simplified BrowZer OIDC flow with Edge Router WSS enabled and a controller</title><defs/><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="614.0176" x="571.4441" y="27.9951">Simplified BrowZer OIDC flow with Edge Router WSS enabled and a controller</text><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="67" x2="67" y1="73.5938" y2="355.7891"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="565.1602" x2="565.1602" y1="73.5938" y2="355.7891"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="677.4453" x2="677.4453" y1="73.5938" y2="355.7891"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="980.543" x2="980.543" y1="73.5938" y2="355.7891"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1155.7183" x2="1155.7183" y1="73.5938" y2="355.7891"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1672.8813" x2="1672.8813" y1="73.5938" y2="355.7891"/><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="125.8223" x="5" y="42.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="111.8223" x="12" y="62.292">ExternalAliceUA</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="125.8223" x="5" y="354.7891"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="111.8223" x="12" y="374.7842">ExternalAliceUA</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="155.2852" x="488.1602" y="42.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="141.2852" x="495.1602" y="62.292">BrowZerifiedService</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="155.2852" x="488.1602" y="354.7891"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="141.2852" x="495.1602" y="374.7842">BrowZerifiedService</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="49.7041" x="653.4453" y="42.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="35.7041" x="660.4453" y="62.292">OIDC</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="49.7041" x="653.4453" y="354.7891"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="35.7041" x="660.4453" y="374.7842">OIDC</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="106.0322" x="927.543" y="42.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="92.0322" x="934.543" y="62.292">ZitiController</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="106.0322" x="927.543" y="354.7891"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="92.0322" x="934.543" y="374.7842">ZitiController</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="150.7324" x="1080.7183" y="42.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="136.7324" x="1087.7183" y="62.292">ZitiEdgeRouterWSS</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="150.7324" x="1080.7183" y="354.7891"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="136.7324" x="1087.7183" y="374.7842">ZitiEdgeRouterWSS</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="159.0244" x="1593.8813" y="42.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="145.0244" x="1600.8813" y="62.292">ActualZitifiedService</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="159.0244" x="1593.8813" y="354.7891"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="145.0244" x="1600.8813" y="374.7842">ActualZitifiedService</text><polygon fill="#181818" points="553.8027,100.7266,563.8027,104.7266,553.8027,108.7266,557.8027,104.7266" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="67.9111" x2="559.8027" y1="104.7266" y2="104.7266"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9.0454" x="74.9111" y="99.6606">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="460.8462" x="87.9565" y="99.6606">Alice wants to connect to a serviec exposed using BrowZerifiedService</text><polygon fill="#181818" points="78.9111,129.8594,68.9111,133.8594,78.9111,137.8594,74.9111,133.8594" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="72.9111" x2="564.8027" y1="133.8594" y2="133.8594"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9.0454" x="84.9111" y="128.7935">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="288.3169" x="97.9565" y="128.7935">redirect to OIDC provider to get a JWT token</text><polygon fill="#181818" points="666.2974,158.9922,676.2974,162.9922,666.2974,166.9922,670.2974,162.9922" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="67.9111" x2="672.2974" y1="162.9922" y2="162.9922"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9.0454" x="74.9111" y="157.9263">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="204.8896" x="87.9565" y="157.9263">authenticates using credentials</text><polygon fill="#181818" points="78.9111,188.125,68.9111,192.125,78.9111,196.125,74.9111,192.125" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="72.9111" x2="677.2974" y1="192.125" y2="192.125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9.0454" x="84.9111" y="187.0591">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="328.9229" x="97.9565" y="187.0591">redirect to a BrowZerifiedService with a JWT token</text><polygon fill="#181818" points="553.8027,217.2578,563.8027,221.2578,553.8027,225.2578,557.8027,221.2578" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="67.9111" x2="559.8027" y1="221.2578" y2="221.2578"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9.0454" x="74.9111" y="216.1919">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="249.228" x="87.9565" y="216.1919">sends obtained JWT token to a serviec</text><polygon fill="#181818" points="968.5591,246.3906,978.5591,250.3906,968.5591,254.3906,972.5591,250.3906" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="565.8027" x2="974.5591" y1="250.3906" y2="250.3906"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9.0454" x="572.8027" y="245.3247">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="377.7109" x="585.8481" y="245.3247">sends obtained JWT from OIDC provider to a ZitiController</text><polygon fill="#181818" points="576.8027,275.5234,566.8027,279.5234,576.8027,283.5234,572.8027,279.5234" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="570.8027" x2="979.5591" y1="279.5234" y2="279.5234"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9.0454" x="582.8027" y="274.4575">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="274.3711" x="595.8481" y="274.4575">controller returns an ephemeral x509 cert</text><polygon fill="#181818" points="1144.0845,304.6563,1154.0845,308.6563,1144.0845,312.6563,1148.0845,308.6563" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="565.8027" x2="1150.0845" y1="308.6563" y2="308.6563"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9.0454" x="572.8027" y="303.5903">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="553.2363" x="585.8481" y="303.5903">now service goes to an edge router using websockets with that ephemeral x509 cert</text><polygon fill="#181818" points="1661.3936,333.7891,1671.3936,337.7891,1661.3936,341.7891,1665.3936,337.7891" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1156.0845" x2="1667.3936" y1="337.7891" y2="337.7891"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9.0454" x="1163.0845" y="332.7231">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="480.2637" x="1176.1299" y="332.7231">and then the router offloads the traffic through itself to the actual service</text><!--SRC=[XLF1Ri8m3Btp5Vw1IRliC0wJ6EEmNIQjcv2ukQdRHgH9bRYKpv_T0XDGng5LOZllsIylRDaHPBPfdIqj5V0QGx-X29_lRqieNUYXjrp3ggW8laB7abfd6P37t4avUld01CynE4TnXXq7tpMvB5TxgVRe5iuQ-bd0myiHVQ3AAEuaCOSX3prwJi11mJmPrYL2qY8oGFis9E7halNL5Cni8gQC5qtC8L9Xum5_6BADOMSBcKi25R6GVgo_PRCbFpM2dfc3Z5cJPskGAHswCWAjCNHfDY3VeyUfGKQzxpGngMCYNoG8EQFr8jK9u4p9MpfjBDlbwHedmSeOccl9yEBex7nxizi_puWct4MVn4n0RKqDHNImVtfy1aEH_-jORJcwKamv1ozsJOUAAj1W9mLLyyRHlEDLzPIdOBOaZXlavXfvalkAH9aNXZjqcZgRID-2ka9_HxfGoXj2KL9Z7B4ihP6rPAiQB2TofJQfMHnGZ_t_0W00]--></g></svg>